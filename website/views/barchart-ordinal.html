<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
	<head>
		<meta charset="UTF-8">
		<link href="/css/barChart.css" rel="stylesheet" media="screen">
		<script src="/js/jquery.js"></script>
		<script src="/js/daterange/moment.js"></script>
		<script src="/js/underscore-min.js"></script>
		<script src="/packages/d3/d3.js"></script>
		<script src="/js/d3.tip.v0.6.3.js"></script>
		<script src="/packages/d3/d3.geo.projection.v0.min.js"></script>
		<script src="/js/barchart.ordinal.js"></script>
		<script>
		var events = [];

		// for (var i = -16; i < 0; i++) {
		// 	events.push({
		// 		fromDate: new Date(moment().add("days", i).format("MM/DD/YYYY")),
		// 		toDate: new Date(moment().add("days", i + 1).format("MM/DD/YYYY")),
				
		// 		value: (100 + (Math.random()*100)),
		// 		color: Math.random() > 0.5 ? "#FF5555" : (Math.random() > 0.5 ? "#33FF33": "#FFC72F")
		// 	});
		// };
		
		// events.push({
		// 	date: new Date(moment().subtract("days", 1).format("MM/DD/YYYY")),
		// 	value: 13
		// });
		// events.push({
		// 	date: new Date(moment().subtract("days", 2).format("MM/DD/YYYY")),
		// 	value: 76
		// });
		// events.push({
		// 	date: new Date(moment().subtract("days", 3).format("MM/DD/YYYY")),
		// 	value: 15
		// });
		// events.push({
		// 	date: new Date(moment().subtract("days", 4).format("MM/DD/YYYY")),
		// 	value: 67
		// });
		// events.push({
		// 	date: new Date(moment().subtract("days", 5).format("MM/DD/YYYY")),
		// 	value: 24
		// });
		// events.push({
		// 	date: new Date(moment().subtract("days", 6).format("MM/DD/YYYY")),
		// 	value: 52
		// });
		var dataUri = "{{dataUri}}";
		var series = "{{series}}"
		var xmlHttp = new XMLHttpRequest();
	    xmlHttp.onload = function (e) {
			  if (xmlHttp.readyState === 4) {
			    if (xmlHttp.status === 200) {
			      	var options = {
						barGap: "20%",
						barGradientOpacity:"0.2",
						barShadowStrength:"2",
						barShadowSize:"10	",
						barSelectedStrength:"0.8",
						barSelectedShadowSize:"5",
						mixBlendMode:"screen",
						selectionMovement:"2%",
						selectionBrightening: "-30"
					}

					charts.barchartOrdinal.plot('#chart', JSON.parse(this.response), "units", options, series);
		    	} else {
		      		console.error(xmlHttp.statusText);
		    	}
		  	}
		};
	    xmlHttp.open( "GET", dataUri, true );
	    xmlHttp.send();
		
		</script>
	</head>
	<body style="background: rgb(140, 140, 140)">
		<div id='chart' width='500' height='500'></div>
	</body>
</html>